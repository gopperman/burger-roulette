function Burger(){this.prune=function(){for(var a=this.length;a--;)("omnivore"!==e.diet&&!0!==this[a][e.diet]||n<this[a].price)&&this.splice(a,1)},this.message=function(e){$el.results.html(e)},this.copy=function(e){return JSON.parse(JSON.stringify(e))},this.pick=function(e){var n=random(0,e.length-1),a=this.copy(e[n]);return e.splice(n,1),a},this.generate=function(){var r,i,t=[],g=["cheese","sauces","toppings"],c={cheese:2,sauces:2,toppings:-1};if($.each([a.burgers],this.prune),!a.burgers.length)return!1;for(i=this.pick(a.burgers),t.push(i.name.toLowerCase()),n-=i.price,$.each([a.buns],this.prune),i=this.pick(a.buns),t.push(i.name.toLowerCase()+" bun"),$.each([a.cheese,a.sauces,a.toppings],this.prune);;)if(r=g[random(0,g.length-1)],a[r].length&&("on"===e.HardMode||0!==c[r])){if(i=this.pick(a[r]),n<i.price)break;if(t.push(i.name.toLowerCase()),n-=i.price,c[r]--,random(0,99)<10&&"on"!==e.hardMode)break}return t};var e=$el.settings.serializeObject(),n=e.budget,a=this.copy(menu),r=this.generate();r?this.message("Try a "+r.join(", ")+"."):this.message("Sorry, no burgers matched your parameters")}var menu={burgers:[{name:"House Burger",price:10,veg:!1,vegan:!1},{name:"Local, Grass-fed Burger",price:11,veg:!1,vegan:!1},{name:"American Kobe-style Burger",price:14,veg:!1,vegan:!1},{name:"Veggie Burger",price:9,veg:!0,vegan:!0},{name:"Chicken Breast",price:8,veg:!1,vegan:!1},{name:"Yellowfin Tuna Burger",price:12,veg:!1,vegan:!1},{name:"Lamb Burger",price:10,veg:!1,vegan:!1},{name:"Turkey Burger",price:9,veg:!1,vegan:!1},{name:"Bison",price:12,veg:!1,vegan:!1},{name:"Salmon",price:12,veg:!1,vegan:!1}],buns:[{name:"Sesame",price:0,veg:!0,vegan:!0},{name:"Brioche",price:.5,veg:!0,vegan:!1},{name:"Herb Ciabatta",price:.5,veg:!0,vegan:!0},{name:"Multigrain",price:.75,veg:!0,vegan:!0}],cheese:[{name:"American",price:.75,veg:!0,vegan:!1},{name:"Cheddar",price:.75,veg:!0,vegan:!1},{name:"Smoked Gouda",price:.75,veg:!0,vegan:!1},{name:"Sharp Provolone",price:.75,veg:!0,vegan:!1},{name:"Pepper Jack",price:.75,veg:!0,vegan:!1},{name:"Gruyère",price:1.5,veg:!0,vegan:!1},{name:"Herb Goat Cheese",price:1.5,veg:!0,vegan:!1},{name:"Habanero Cheddar",price:1.5,veg:!0,vegan:!1},{name:"Smoked Mozzerella",price:1.5,veg:!0,vegan:!1},{name:"Whiskey Cheddar",price:1.5,veg:!0,vegan:!1},{name:"Grain Mustard Cheddar",price:1.5,veg:!0,vegan:!1},{name:"Great Blue Hill",price:1.5,veg:!0,vegan:!1}],sauces:[{name:"Horseradish Mayo",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Cilantro Mayo",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Garlic Mayo",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Whiskey BBQ",price:.5,veg:!0,vegan:!0,type:"bbq"},{name:"Ranch",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Sriracha Aoili",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Truffle Aoili",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Mac Sauce",price:.5,veg:!0,vegan:null},{name:"Creamy Frank's Red Hot",price:.5,veg:!0,vegan:!1},{name:"Honey Mustard",price:.5,veg:!0,vegan:!0},{name:"Blackberry Champagne BBQ",price:.5,veg:!0,vegan:!0,type:"bbq"},{name:"Blue Cheese Dressing",price:.75,veg:!0,vegan:!1},{name:"Sweet Chili Ranch",price:.5,veg:!0,vegan:!1,type:"mayo"},{name:"Sundried Tomato and Artichoke Spread",price:1.5,veg:!0,vegan:!0}],toppings:[{name:"Lettuce",price:0,veg:!0,vegan:!0},{name:"Tomato",price:0,veg:!0,vegan:!0},{name:"Pickles",price:0,veg:!0,vegan:!0},{name:"Onion",price:0,veg:!0,vegan:!0},{name:"Sautéed Mushrooms",price:.75,veg:!0,vegan:!0},{name:"Grilled Onion",price:.75,veg:!0,vegan:!0},{name:"House Slaw",price:.75,veg:!0,vegan:!0},{name:"Sliced Jalapeño",price:.75,veg:!0,vegan:!0},{name:"Mustard Pickles",price:.75,veg:!0,vegan:!0},{name:"Fried Pickles",price:.75,veg:!0,vegan:!0},{name:"Arugula",price:.75,veg:!0,vegan:!0},{name:"Potato Chips",price:.75,veg:!0,vegan:!0},{name:"Parmesan Crisp",price:.75,veg:!0,vegan:!1},{name:"Avocado",price:1.5,veg:!0,vegan:!0},{name:"Fried Egg",price:1.5,veg:!0,vegan:!1},{name:"Beef Chili",price:1.5,veg:!1,vegan:!1},{name:"Bacon",price:2,veg:!1,vegan:!1},{name:"Fried Proscuitto",price:2,veg:!1,vegan:!1},{name:"Pork Belly",price:2.5,veg:!1,vegan:!1},{name:"Espresso Bacon",price:2.5,veg:!1,vegan:!1},{name:"Andouille",price:2.5,veg:!1,vegan:!1},{name:"Short Rib",price:3,veg:!1,vegan:!1},{name:"North Country Bacon",price:3.5,veg:!1,vegan:!1},{name:"Fried Shrimp",price:4,veg:!1,vegan:!1}]};!function(e,n,a,r,i,t,g){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,t=n.createElement(a),g=n.getElementsByTagName(a)[0],t.async=1,t.src=r,g.parentNode.insertBefore(t,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-72844913-1","auto"),ga("send","pageview");var $el={};$(document).ready(function(){$el={settings:$("#settings"),submit:$("#generateBurger"),results:$("#results"),toggleSlide:$(".toggleSlide"),slideOut:$(".slideOut")},$el.submit.click(function(){new Burger}),$el.toggleSlide.click(function(){$el.slideOut.toggleClass("slideOut--open")})});var factorial=function(e){return 0!==e?e*factorial(e-1):1},random=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},combinations=function(e,n){return factorial(e)/(factorial(n)/factorial(e-n))},burgernatorics=function(e,n,a){for(var r=1,i=e,t=1,g=n,c=1,s=a;e--;)r+=combinations(i,e);for(;n--;)t+=combinations(g,n);for(;a--;)c+=combinations(s,a);return menu.burgers.length*menu.buns.length*r*t*c}(function(e,n,a){var r,i=e.getElementsByTagName(n)[0];e.getElementById(a)||(r=e.createElement(n),r.id=a,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk"));window.twttr=function(e,n,a){var r,i=e.getElementsByTagName(n)[0],t=window.twttr||{};return e.getElementById(a)?t:(r=e.createElement(n),r.id=a,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),t._e=[],t.ready=function(e){t._e.push(e)},t)}(document,"script","twitter-wjs"),$.fn.serializeObject=function(){var e={},n=this.serializeArray();return $.each(n,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};